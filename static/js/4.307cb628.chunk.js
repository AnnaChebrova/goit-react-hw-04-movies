(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{30:function(e,t,n){"use strict";var r=n(32),c=n.n(r);c.a.defaults.baseURL="https://api.themoviedb.org/3/";var o="eecf8c65fd813ef076ac9f633cd2051a";t.a={getMovie:function(){return c.a.get("/trending/all/day?api_key=".concat(o)).then((function(e){return e.data.results}))},getMovieInfo:function(e){return c.a.get("/movie/".concat(e,"?api_key=").concat(o,"&language=en-US")).then((function(e){return e.data}))},getCast:function(e){return c.a.get("/movie/".concat(e,"/credits?api_key=").concat(o)).then((function(e){return e.data.cast}))},getReview:function(e){return c.a.get("/movie/".concat(e,"/reviews?api_key=").concat(o)).then((function(e){return e.data.results}))},MovieSearch:function(e){return c.a.get("/search/movie?api_key=".concat(o,"&language=en-US&page=1&query=").concat(e)).then((function(e){return e.data.results}))}}},59:function(e,t,n){"use strict";var r=n(60),c=n(11);function o(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function a(e){return Array.isArray(e)?e.sort():"object"===typeof e?a(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=c({arrayFormat:"none"},t)),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),c=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),n(decodeURIComponent(c),o,r)})),Object.keys(r).sort().reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=a(n):e[t]=n,e}),Object.create(null))):r},t.stringify=function(e,t){var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[o(t,e),"[",r,"]"].join(""):[o(t,e),"[",o(r,e),"]=",o(n,e)].join("")};case"bracket":return function(t,n){return null===n?o(t,e):[o(t,e),"[]=",o(n,e)].join("")};default:return function(t,n){return null===n?o(t,e):[o(t,e),"=",o(n,e)].join("")}}}(t=c({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(r){var c=e[r];if(void 0===c)return"";if(null===c)return o(r,t);if(Array.isArray(c)){var a=[];return c.slice().forEach((function(e){void 0!==e&&a.push(n(r,e,a.length))})),a.join("&")}return o(r,t)+"="+o(c,t)})).filter((function(e){return e.length>0})).join("&"):""}},60:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},63:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.r(t);var a=n(31),i=n(0),u=n(2),s=n(9),f=n(59),l=n.n(f),p=n(30),b=n(8),j=n.n(b),d=n(1),h=Object(i.lazy)((function(){return n.e(7).then(n.bind(null,62))}));t.default=function(){var e,t,n=Object(u.i)().url,r=Object(u.g)().search,c=Object(u.g)(),f=Object(u.f)(),b=Object(i.useState)(null!==(e=null===(t=l.a.parse(r))||void 0===t?void 0:t.query)&&void 0!==e?e:""),v=Object(a.a)(b,2),O=v[0],y=v[1],g=Object(i.useState)([]),m=Object(a.a)(g,2),x=m[0],w=m[1];Object(i.useEffect)((function(){""!==O&&O&&(p.a.MovieSearch(O).then((function(e){return w(e)})),y(""))}),[]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(i.Suspense,{fallback:Object(d.jsx)("h1",{children:"Loading....."}),children:Object(d.jsx)(h,{})}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p.a.MovieSearch(O).then((function(e){return w(e)})),f.push(o(o({},c),{},{search:"query=".concat(O)})),y("")},children:[Object(d.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:O,onChange:function(e){y(e.target.value.toLowerCase())},className:j.a.inputSearch}),Object(d.jsx)("button",{type:"submit",className:j.a.btnSearch})]}),Object(d.jsx)("ul",{children:x&&x.map((function(e){return Object(d.jsx)("li",{children:Object(d.jsx)(s.b,{to:{pathname:"".concat(n,"/").concat(e.id),state:{from:c}},children:e.title})},e.id)}))})]})}}}]);
//# sourceMappingURL=4.307cb628.chunk.js.map